<!DOCTYPE html>
<html lang="en">
  <head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MetaSchool Wallet</title> <link rel="stylesheet" href="style.css" />
    <script src="./QRcode.js"></script>
  </head>
  <body>
    <div class="card">
      <div class="card2">
        <!-- HEADER -->
        <div class="header">
          <div id="header_network" class="header_network">
            <p>
              <span id="selected_network">Ethereum Mainnet</span>
              <svg
                xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="16" width="16"zoomAndPan="magnify"viewBox="0 0 375 374.999991" preserveAspectRatio="xMidYMid meet"
                version="1.0"
              >
                <defs>
                  <clipPath id="18412daa0f">
                    <path
                      d="M 4.269531 77.390625 L 371 77.390625 L 371 297.890625 L 4.269531 297.890625 Z M 4.269531 77.390625 "
                      clip-rule="nonzero"
                    />
                  </clipPath>
                </defs>
                <g clip-path="url(#18412daa0f)">
                  <path
                    fill="#00642f"
                    d="M 370.625 115.878906 L 188.25 297.859375 L 4.613281 114.613281 L 41.953125 77.351562 L 188.25 223.335938 L 333.285156 78.613281 L 370.625 115.878906 "
                    fill-opacity="1"
                    fill-rule="nonzero"
                  />
                </g>
              </svg>
            </p>
          </div>
          <!-- Add connection status
          <div class="connection_status">
            <span class="status_dot"></span>
            <span class="status_text">Connected</span>
          </div> -->
          <!-- Replace settings icon with three dots menu -->
          <div class="header_menu">
            <svg id="settings_menu_icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#27c105" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="cursor: pointer;">
              <circle cx="12" cy="6" r="2"></circle>
              <circle cx="12" cy="12" r="2"></circle>
              <circle cx="12" cy="18" r="2"></circle>
            </svg>
            <div class="settings_menu" id="settings_menu">
              <div class="menu_item" id="settings">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="3"></circle>
                  <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                </svg>
                <span>Settings</span>
              </div>
              <div class="menu_item" id="logout">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                  <polyline points="16 17 21 12 16 7"></polyline>
                  <line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
                <span>Logout</span>
              </div>
            </div>
          </div>
        </div>
        <!--END OF HEADER -->





        <!-- NETWORK LIST CARD -->
        <div id="network" class="network">
          <button id="close_network" class="close_button">X</button>
          <!-- //TITLE -->
          <div class="network_title">
            <p>Networks</p>
          </div>
          <!-- NETWORK LIST -->

          <div id="network_item" class="network_list">
            <p class="network_item">    
              <span>Ethereum Mainnet</span>
            </p>

            <p class="network_item">
              <span>Polygon Mainnet</span>
            </p>

            <p class="network_item">
              <span>BNB Smart Chain</span>
            </p>

            <p class="network_item">
              <span>Sepolia test network</span>
            </p>

            <p class="network_item">
              <span>Polygon Amoy</span>
            </p>


          </div>

          <!-- <button id="add_network" class="button3 addStyle">Add Network</button> -->
        </div>
        <!--END OF NETWORK LIST CARD -->

        <!-- HOME SCREEN -->
        <div id="createAccount" class="home_screen_signup">
          <img
            class="home_screen_img"
            src="./assets/metaschool_icon.png"
            alt=""
          />

          <h1 class="home_title">Metaschool Crypto Wallet</h1>
          <p>
            Welcome to next generation crypto wallet exchange, the most complete
            dapp solution
          </p>
          <button id="openCreate" class="button3 connectWallet" >
            Create Account
          </button>
          <p>
            Login to your account
            <strong class="home_title" id="loginAccount" > LOGIN </strong>
          </p>
        </div>

        <!-- //CREATE POP UP -->
        <div id="create_popUp" class="create_popUp">
          <div class="form">
            <p id="heading">Create Account</p>
            <div id="field">
              <div class="field">
                <svg
                  viewBox="0 0 16 16"
                  fill="currentColor"
                  height="16"
                  width="16"
                  xmlns="http://www.w3.org/2000/svg"
                  class="input-icon"
                >
                  <path
                    d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"
                  ></path>
                </svg>
                <input
                  type="text"
                  class="input-field"
                  placeholder="name"
                  id="sign_up_name"
                />
              </div>
              <p class="space"></p>
              <div class="field">
                <svg
                  viewBox="0 0 16 16"
                  fill="currentColor"
                  height="16"
                  width="16"
                  xmlns="http://www.w3.org/2000/svg"
                  class="input-icon"
                >
                  <path
                    d="M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z"
                  ></path>
                </svg>

                <input
                  type="text"
                  class="input-field"
                  placeholder="email"
                  autocomplete="off"
                  id="sign_up_email"
                />
              </div>
              <p class="space"></p>
              <div class="field">
                <svg
                  viewBox="0 0 16 16"
                  fill="currentColor"
                  height="16"
                  width="16"
                  xmlns="http://www.w3.org/2000/svg"
                  class="input-icon"
                >
                  <path
                    d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"
                  ></path>
                </svg>

                <input
                  type="text"
                  class="input-field"
                  placeholder="password"
                  id="sign_up_password"
                />
              </div>
              <p class="space"></p>
              <div class="field">
                <svg
                  viewBox="0 0 16 16"
                  fill="currentColor"
                  height="16"
                  width="16"
                  xmlns="http://www.w3.org/2000/svg"
                  class="input-icon"
                >
                  <path
                    d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"
                  ></path>
                </svg>
                <input
                  type="text"
                  class="input-field"
                  placeholder="passwordConfirm"
                  id="sign_up_passwordConfirm"
                />
              </div>
            </div>
            <!-- <p class="space"></p> -->

            <div id="center" class="center">
              <div class="loader">
                <div class="bar1"></div>
                <div class="bar2"></div>
                <div class="bar3"></div>
                <div class="bar4"></div>
                <div class="bar5"></div>
                <div class="bar6"></div>
                <div class="bar7"></div>
                <div class="bar8"></div>
                <div class="bar9"></div>
                <div class="bar10"></div>
                <div class="bar11"></div>
                <div class="bar12"></div>
              </div>
            </div>

            <div id="accountData" class="accountData">
              <h3 id="accountInfo">Address</h3>
              <p id="createdAddress">Address:</p>
              <h3>Private Key</h3>
              <p id="createdPrivateKey">Private Key:</p>
              <h3>Mnemonic</h3>
              <p id="createdMnmonic">mnemonic:</p>
            </div>

            <button id="sign_up" class="button3 connectWallet">SignUp</button>
            <button id="goHomePage" class="button3 connectWallet">
              Go Back
            </button>
          </div>
        </div>

        <!-- //LOGIN COMPONENT -->
        <div id="LoginUser" class="home_screen_login">
          <img
            class="home_screen_img"
            src="./assets/metaschool_icon.png"
            alt=""
          />

          <h1 class="home_title">Metaschool Crypto Wallet</h1>
          <h4><p>Welcome back! The decentralized web awaits</p></h4>
          <div id="login_form" class="form">
            <div class="field">
              <svg viewBox="0 0 16 16" fill="currentColor" height="16" width="16" xmlns="http://www.w3.org/2000/svg" class="input-icon" >
                <path
                  d="M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z"
                ></path>
              </svg>
              <input
                id="login_email"
                type="text"
                class="input-field"
                placeholder="email"
              />
            </div>

            <div class="field">
              <svg
                viewBox="0 0 16 16"
                fill="currentColor"
                height="16"
                width="16"
                xmlns="http://www.w3.org/2000/svg"
                class="input-icon"
              >
                <path
                  d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"
                ></path>
              </svg>

              <input
                id="login_password"
                type="text"
                class="input-field"
                placeholder="password"
              />
            </div>
          </div>

          <button id="login_up" class="button3 connectWallet">Login</button>
          <p>
            Login to your account
            <strong class="home_title" id="accountCreate">
              Create Account</strong
            >
          </p>
        </div>

        <!-- TRANSFER COMPONENT -->
        <div id="transfer_form" class="transfer_form">
            <div class="form">
                <img id="goBack" class="goBack" src="./assets/_back.png" alt=""/>
                <p id="heading">Send</p>
                
                <!-- Add token selector -->
                <div class="token_selector" id="token_selector">
                    <div class="selected_token">
                        <img class="token_icon" src="./assets/metaschool_icon.png" alt=""/>
                        <span class="token_symbol">Select token</span>
                        <svg class="dropdown_arrow" width="12" height="12" viewBox="0 0 12 12">
                            <path d="M6 8L2 4h8l-4 4z" fill="currentColor"/>
                        </svg>
                    </div>
                    <div class="token_list" id="token_list">
                        <!-- Native token will be first -->
                        <div class="token_item native_token">
                            <img class="token_icon" src="./assets/metaschool_icon.png" alt=""/>
                            <div class="token_info">
                                <span class="token_symbol">ETH</span>
                                <span class="token_balance">0.0 ETH</span>
                            </div>
                        </div>
                        <!-- Other tokens will be added here dynamically -->
                    </div>
                </div>

                <div class="field amount_field">
                    <input type="number" class="input-field" placeholder="Amount" id="amount"/>
                    <span class="max_button">MAX</span>
                </div>

                <div class="field">
                    <input type="text" class="input-field" placeholder="Recipient address" id="address"/>
                </div>

                <div id="transfer_center" class="center">
                    <div class="loader">
                        <!-- ... loader divs ... -->
                    </div>
                </div>

                <small>
                    <a target="_blank" id="link">Check Your Transaction</a>
                </small>

                <button id="transferFund" class="button3 connectWallet">Send</button>
            </div>
        </div>

        <!-- IMPORT TOKEN -->
        <div id="import_token" class="import_token">
            <div class="form">
                <div class="import_header">
                    <img id="goBack_import" class="goBack" src="./assets/_back.png" alt=""/>
                    <p id="heading">Import Token</p>
                </div>

                <div class="import_token_section">
                    <div class="field">
                        <input
                            type="text"
                            class="input-field"
                            placeholder="Token Contract Address"
                            id="token_address"
                        />
                    </div>

                    <!-- <div class="field">
                        <input
                            type="text"
                            class="input-field"
                            placeholder="Token Symbol (e.g. USDT)"
                            id="token_symbol"
                        />
                    </div>

                    <div class="field">
                        <input
                            type="text"
                            class="input-field"
                            placeholder="Token Name (e.g. Tether USD)"
                            id="token_name"
                        />
                    </div> -->

                    <div class="import_warning">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                            <line x1="12" y1="9" x2="12" y2="13"/>
                            <line x1="12" y1="17" x2="12.01" y2="17"/>
                        </svg>
                        <span>Custom tokens are imported at your own risk</span>
                    </div>

                    <button id="add_token" class="button3 connectWallet">Import Token</button>
                </div>
            </div>
        </div>

        <!-- IMPORT ACCOUNT -->
        <div id="import_account" class="import_account">
            <div class="form">
                <div class="account_header">
                    <img id="close_import_account" class="goBack" src="./assets/_back.png" alt=""/>
                    <p id="heading">Import Account</p>
                </div>

                <!-- Import Account Section -->
                <div class="import_section">
                    <div class="field">
                        <textarea
                            type="text"
                            class="input-field"
                            placeholder="Enter your private key"
                            id="add_account_private_key"
                            rows="3"
                        ></textarea>
                    </div>
                    <p class="import_warning">
                        <svg viewBox="0 0 16 16" width="16" height="16">
                            <path d="M8 1.5l7 13H1l7-13z" fill="currentColor"/>
                            <text x="8" y="13" text-anchor="middle" fill="#000" font-size="9">!</text>
                        </svg>
                        Private keys are encrypted and stored securely
                    </p>
                    <button id="add_New_Account" class="button3 connectWallet">Import</button>
                </div>
            </div>
        </div>

        <!-- Add this new section before the home div -->
        <div class="wallet_info">
            <div id="address_container" class="address_info_container tooltip" data-hover-text="Copy to clipboard">
                <p id="userAddress">connecting ...</p>
                <svg class="copy_icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                </svg>
            </div>
        </div>

        <!-- Then your home div starts -->
        <div id="home" class="home">
            <img class="home_header_img" src="./assets/metaschool_icon.png" alt="" />
            <h1 id="accountBlance">0.00 MATIC</h1>

            <div class="home_features">
                <div class="home_feature_item" id="open_Transfer">
                    <img class="home_features_img" src="./assets/send2.png" alt="" />
                    <p class="text">Send</p>
                </div>
                <div class="home_feature_item" id="open_receive">
                    <img class="home_features_img" src="./assets/receive.png" alt="" />
                    <p class="text">Receive</p>
                </div>
            </div>

            <div class="home_tabs">
                <p id="open_assets">Tokens</p>
                <p id="open_activity">Activity</p>
            </div>
            <p class="space"></p>
            <p class="space"></p>
            <!-- //ASSETS -->
            <div id="assets" class="assets"></div>

            <!-------- //ACTIVITY ------------------------------------------------------------------------------------------------>

            <div id="activity" class="activity">
                <div class="assets_item">
                    <!-- Activity_History(); -->
                    <!-- <img class="assets_item_img" src="./assets/metaschool_icon.png" alt=""/>
                    <span>d92i33239d... </span>
                    <span>053. MATIC</span> -->
                </div>
            </div>
        </div>
      </div>
    </div>
    <!-- <script
      src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"
      type="application/javascript"
    ></script> -->
    <script src="./ethers.js"></script>
    <script src="./popup.js"></script>
    <div id="settings_window" class="settings_window">
        <div class="settings_header">
            <img id="close_settings" class="goBack" src="./assets/_back.png" alt=""/>
            <p id="heading">Settings</p>
        </div>
        
        <div class="settings_content">
            <!-- Wallet Section -->
            <div id="settings_import_account" class="settings_item">
                <div class="settings_item_icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                </div>
                <span>Account</span>
            </div>

            <div id="settings_import_token" class="settings_item">
                <div class="settings_item_icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="12" y1="8" x2="12" y2="16"/>
                        <line x1="8" y1="12" x2="16" y2="12"/>
                    </svg>
                </div>
                <span>Import Token</span>
            </div>

            <div class="settings_item">
                <div class="settings_item_icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                    </svg>
                </div>
                <span>Security & Privacy</span>
            </div>

            <div class="settings_item">
                <div class="settings_item_icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="12" y1="16" x2="12" y2="12"/>
                        <line x1="12" y1="8" x2="12.01" y2="8"/>
                    </svg>
                </div>
                <span>About</span>
            </div>
        </div>
    </div>
    <!-- Add the receive modal -->
    <div id="receive_form" class="receive_form">
        <div class="form">
            <img id="goBack_receive" class="goBack" src="./assets/_back.png" alt=""/>
            <p id="heading">Receive</p>
            
            <div class="qr_container">
                <div id="qrcode"></div>
            </div>
            
            <div class="receive_address_container" id="receive_address_container">
                <p class="receive_address" id="receive_address"></p>
                <div class="copy_success">Address copied!</div>
            </div>
            
            <button id="copy_address" class="copy_button">
                <span>Copy Address</span>
            </button>
        </div>
    </div>
    <div id="confirmation_dialog" class="confirmation_dialog">
        <div class="confirmation_header">
            <img id="close_confirmation" class="goBack" src="./assets/_back.png" alt=""/>
            <h2>Confirm Transaction</h2>
        </div>
        
        <div class="confirmation_content">
            <div class="transaction_details">
                <div class="detail_row">
                    <span class="detail_label">From</span>
                    <span id="confirm_from" class="detail_value"></span>
                </div>
                <div class="detail_row">
                    <span class="detail_label">To</span>
                    <span id="confirm_to" class="detail_value"></span>
                </div>
                <div class="detail_row">
                    <span class="detail_label">Amount</span>
                    <span id="confirm_amount" class="detail_value"></span>
                </div>
            </div>

            <div class="estimated_gas">
                <div class="gas_row">
                    <span class="gas_label">Estimated Gas Fee</span>
                    <span id="gas_fee" class="gas_value">0.000021 ETH</span>
                </div>
                <div class="gas_row">
                    <span class="gas_label">Max Fee</span>
                    <span id="max_fee" class="gas_value">0.000025 ETH</span>
                </div>
            </div>

            <div class="confirmation_buttons">
                <button class="reject_button" id="reject_transaction">Reject</button>
                <button class="confirm_button" id="confirm_transaction">Confirm</button>
            </div>
        </div>
    </div>
  </body>
</html>
